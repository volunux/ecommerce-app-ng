export class RegisterFormCmp {
passwordForm: ControlGroup;
userForm: ControlGroup;
username: Control;
password: Control;
confirm: Control;
constructor(fb: FormBuilder) {
this.username = fb.control('', Validators.required);
this.password = fb.control('', Validators.required);
this.confirm = fb.control('', Validators.required);
this.passwordForm = fb.group({password: this.password, confirm: this.confirm},
{validator: this.passwordMatch});
this.userForm = fb.group({username: this.username, passwordForm: this.passwordForm});
}
register() {
console.log(this.userForm.value);
}
passwordMatch(control: {controls: {password: Control, confirm: Control}}) {
let password = control.controls.password.value;
let confirm = control.controls.confirm.value;
return password !== confirm ? {matchingError: true} : null;
}
}